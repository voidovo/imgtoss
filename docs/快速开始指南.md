# 快速开始指南

欢迎使用 ImgToss！本指南将帮助您在 5 分钟内完成 ImgToss 的安装配置并完成首次图片上传。

## 系统要求

在开始之前，请确保您的系统满足以下要求：

| 操作系统 | 最低版本要求 | 推荐版本 |
|---------|------------|---------|
| Windows | Windows 10 | Windows 11 |
| macOS | macOS 10.15 (Catalina) | macOS 12+ |
| Linux | Ubuntu 18.04+ | Ubuntu 22.04+ |

**硬件要求：**
- 内存：最少 4GB RAM，推荐 8GB+
- 存储：至少 100MB 可用空间
- 网络：用于连接云存储服务的网络连接

## 安装 ImgToss

### 方式一：下载预编译版本（推荐）

1. **获取安装包**
   - 访问 [ImgToss Releases 页面](https://github.com/your-repo/imgtoss/releases)
   - 根据您的操作系统下载对应的安装包：
     - Windows: `imgtoss-x.x.x-setup.exe`
     - macOS: `imgtoss-x.x.x.dmg`
     - Linux: `imgtoss-x.x.x.AppImage` 或 `.deb`

2. **安装应用**
   - **Windows**: 双击 `.exe` 文件，按照安装向导完成安装
   - **macOS**: 挂载 `.dmg` 文件，将应用拖拽到 Applications 文件夹
   - **Linux**: 
     - AppImage: 添加执行权限并直接运行 `chmod +x imgtoss-*.AppImage && ./imgtoss-*.AppImage`
     - DEB: 使用包管理器安装 `sudo dpkg -i imgtoss-*.deb`

3. **启动应用**
   - 在应用程序列表中找到 ImgToss 并启动
   - 首次启动会显示欢迎界面

### 方式二：从源码构建

如果您是开发者或需要定制功能，可以选择从源码构建：

```bash
# 1. 克隆仓库
git clone https://github.com/your-repo/imgtoss.git
cd imgtoss

# 2. 安装依赖
pnpm install

# 3. 构建应用（需要预先安装 Rust 和 Tauri）
pnpm tauri build
```

> **注意**: 源码构建需要预先安装 Rust、Node.js 和 pnpm。详细的开发环境搭建请参考 [开发者指南](./开发者指南.md)。

## 首次配置

### 步骤 1: 选择云存储服务

启动 ImgToss 后，点击侧边栏的"存储配置"进入配置页面。ImgToss 支持三种主流云存储服务：

#### 配置阿里云 OSS

1. **获取访问凭证**
   - 登录 [阿里云控制台](https://oss.console.aliyun.com/)
   - 创建新的 Bucket 或选择现有 Bucket
   - 获取 AccessKey ID 和 AccessKey Secret

2. **配置信息**
   ```
   存储类型: 阿里云 OSS
   端点地址: https://oss-cn-hangzhou.aliyuncs.com
   Bucket名称: your-bucket-name
   区域: cn-hangzhou
   AccessKey ID: 您的访问密钥ID
   AccessKey Secret: 您的访问密钥Secret
   自定义路径: images/ (可选)
   ```

#### 配置腾讯云 COS

1. **获取访问凭证**
   - 登录 [腾讯云控制台](https://console.cloud.tencent.com/cos)
   - 创建存储桶并获取配置信息
   - 在 [API密钥管理](https://console.cloud.tencent.com/cam/capi) 获取 SecretId 和 SecretKey

2. **配置信息**
   ```
   存储类型: 腾讯云 COS
   端点地址: https://cos.ap-beijing.myqcloud.com
   Bucket名称: your-bucket-name-appid
   区域: ap-beijing
   Secret ID: 您的SecretId
   Secret Key: 您的SecretKey
   自定义路径: images/ (可选)
   ```

#### 配置 AWS S3

1. **获取访问凭证**
   - 登录 [AWS Console](https://aws.amazon.com/s3/)
   - 创建 S3 存储桶
   - 在 IAM 中创建具有 S3 权限的用户并获取访问密钥

2. **配置信息**
   ```
   存储类型: Amazon S3
   端点地址: https://s3.amazonaws.com
   Bucket名称: your-bucket-name
   区域: us-east-1
   Access Key: 您的访问密钥
   Secret Key: 您的秘密访问密钥
   自定义路径: images/ (可选)
   ```

### 步骤 2: 测试连接

配置完成后，点击"测试连接"按钮验证配置是否正确：

- ✅ **连接成功**: 配置正确，可以开始使用
- ❌ **连接失败**: 请检查配置信息，常见问题：
  - 端点地址错误
  - 访问凭证无效
  - Bucket 名称或区域错误
  - 网络连接问题

### 步骤 3: 保存配置

测试连接成功后，点击"保存配置"。配置信息将加密存储在本地，确保安全性。

## 完成首次上传

现在让我们完成第一次图片上传来验证配置：

### 方法一: 图片上传模式

1. **进入上传页面**
   - 点击侧边栏的"图片上传"
   
2. **选择图片**
   - 将图片文件拖拽到上传区域
   - 或点击"选择文件"按钮浏览选择
   
3. **开始上传**
   - 选择图片后点击"开始上传"
   - 观察实时上传进度
   
4. **复制链接**
   - 上传完成后，点击"复制链接"获取图片URL

### 方法二: 文章上传模式

1. **准备测试文件**
   创建一个简单的 Markdown 文件 `test.md`：
   ```markdown
   # 测试文档
   
   这是一张测试图片：
   ![测试图片](./local-image.jpg)
   ```

2. **选择文档**
   - 点击侧边栏的"文章上传"
   - 选择刚创建的 Markdown 文件

3. **扫描图片**
   - ImgToss 会自动扫描文档中的本地图片引用
   - 在列表中勾选需要上传的图片

4. **开始上传**
   - 点击"开始上传"
   - 上传完成后，文档中的本地路径将自动替换为云存储URL

## 验证安装成功

完成首次上传后，您可以通过以下方式验证 ImgToss 安装配置成功：

### 检查历史记录
1. 点击侧边栏的"历史记录"
2. 确认能看到刚才上传的文件记录
3. 记录中应包含文件名、上传时间、存储路径等信息

### 访问上传的图片
1. 复制历史记录中的图片链接
2. 在浏览器中打开链接
3. 确认图片能正常访问

### 测试重复检测
1. 尝试再次上传同一张图片
2. ImgToss 应该检测到重复并提示跳过

## 常见安装问题

### Windows 安装问题

**问题**: 提示"Windows 已保护你的电脑"
**解决**: 点击"更多信息" → "仍要运行"，或在文件右键菜单选择"属性" → 勾选"解除锁定"

**问题**: 杀毒软件误报
**解决**: 将 ImgToss 添加到杀毒软件的白名单

### macOS 安装问题

**问题**: 提示"无法打开，因为无法验证开发者"
**解决**: 
1. 前往 系统偏好设置 → 安全性与隐私 → 通用
2. 点击"仍要打开" 或 允许从任何来源下载的应用

**问题**: 应用闪退或无响应
**解决**: 检查系统版本兼容性，确保 macOS 版本不低于 10.15

### Linux 安装问题

**问题**: AppImage 无法执行
**解决**: 
```bash
chmod +x imgtoss-*.AppImage
# 安装 fuse (如果需要)
sudo apt install fuse
```

**问题**: 缺少系统依赖
**解决**: 
```bash
# Ubuntu/Debian
sudo apt update
sudo apt install libgtk-3-0 libwebkit2gtk-4.0-37

# CentOS/RHEL
sudo yum install gtk3 webkit2gtk3
```

## 下一步

恭喜！您已经成功安装并配置了 ImgToss。现在您可以：

- 📚 阅读 [用户操作手册](./用户操作手册.md) 了解详细功能
- 🔧 查看 [最佳实践](./最佳实践.md) 优化使用体验  
- ❓ 遇到问题时参考 [故障排除指南](./故障排除.md)
- 💬 加入社区讨论或提交 [Issue](https://github.com/your-repo/imgtoss/issues)

开始享受高效的图片上传管理体验吧！